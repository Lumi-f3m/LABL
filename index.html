<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auto Launch</title>
<style>
body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: #33241c;
    font-family: sans-serif;
    margin: 0;
    color: white;
    font-size: 1.5rem;
    text-align: center;
}
#message {
    padding: 20px;
    border: 2px solid #d97d5d;
    border-radius: 10px;
    background-color: rgba(0,0,0,0.5);
}
</style>
</head>
<body>
<div id="message">Launching the site...</div>

<script>
window.addEventListener('DOMContentLoaded', async () => {
    const message = document.getElementById('message');

    try {
        const newTab = window.open('about:blank', '_blank'); // attempt to open new tab
        if (!newTab) {
            message.textContent = "Pop-up blocked! Please allow pop-ups for this site to continue.";
            return;
        }

        const response = await fetch('https://labl.vercel.app/main.html');
        if (!response.ok) throw new Error(`Failed to fetch content: ${response.status}`);

        const htmlContent = await response.text();
        newTab.document.write(htmlContent);
        newTab.document.close();

        message.textContent = "Site launched successfully!";
    } catch (err) {
        console.error(err);
        message.textContent = "Failed to launch the site. Check console for details.";
    }
});
</script>
</body>
</html>
